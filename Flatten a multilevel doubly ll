 Node* flatten(Node* head) {
    if(head==NULL) return head;
    Node* curr=head;
    while(curr!=NULL){//find child node and flatten them
     if(curr->child!=NULL){
        Node* next=curr->next;
        curr->next = flatten(curr->child);
        curr->next->prev = curr;
        curr->child=NULL;
        while(curr->next!=NULL){ // finding tail of the list to join with child nodes 
            curr=curr->next;
        }
        if(next!=NULL){ // connect with the tail of the list with child nodes
            curr->next=next;
            next->prev=curr;
        }
     }
     curr=curr->next;

    }
    return head;
        
    }
